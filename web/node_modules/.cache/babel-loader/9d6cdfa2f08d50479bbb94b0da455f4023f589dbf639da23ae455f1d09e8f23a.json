{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getGroupList } from '@/api/GroupAPI';\nimport { getGroup } from '@/api/GroupAPI';\nimport { getAllUserId } from \"@/api/UserAPI\";\nimport { getAllProjectId } from \"@/api/ProjectAPI\";\nimport GroupTable from '@/components/table/GroupTable.vue';\nimport { errorHandler } from '@/utils/RequestUtils';\nexport default {\n  components: {\n    GroupTable\n  },\n  data() {\n    return {\n      open: false,\n      loading: false,\n      title: \"\",\n      role: sessionStorage.getItem('role'),\n      options: {\n        allUserId: [],\n        allProjectId: []\n      },\n      groupForm: {},\n      groupSearchForm: {},\n      groupPageData: {\n        page: 0,\n        size: 0,\n        total: 0,\n        content: []\n      }\n    };\n  },\n  created() {\n    this.fetchGroupData();\n    this.getAllOptions();\n  },\n  methods: {\n    fetchGroupData(page = 1, size = 10) {\n      getGroupList({\n        page,\n        size,\n        ...this.groupSearchForm\n      }).then(res => {\n        this.groupPageData.page = res.page;\n        this.groupPageData.size = res.size;\n        this.groupPageData.total = res.total;\n        this.groupPageData.content = res.content;\n      }).catch(errorHandler);\n    },\n    resetGroupSearchForm() {\n      this.groupSearchForm = {};\n    },\n    showViewGroup(id) {\n      this.$router.push('/group/' + id);\n    },\n    showEditGroup(id) {\n      getGroup(id).then(res => {\n        this.groupForm = {\n          ...res\n        };\n        this.open = true;\n        this.title = \"Edit Group\";\n      }).catch(errorHandler);\n    },\n    getAllOptions() {\n      getAllUserId().then(res => {\n        this.options.allUserId = res;\n      }).catch(errorHandler);\n      getAllProjectId().then(res => {\n        this.options.allProjectId = res;\n      }).catch(errorHandler);\n    },\n    onAdd() {\n      this.$router.push('/group/0');\n    }\n  }\n};","map":{"version":3,"names":["getGroupList","getGroup","getAllUserId","getAllProjectId","GroupTable","errorHandler","components","data","open","loading","title","role","sessionStorage","getItem","options","allUserId","allProjectId","groupForm","groupSearchForm","groupPageData","page","size","total","content","created","fetchGroupData","getAllOptions","methods","then","res","catch","resetGroupSearchForm","showViewGroup","id","$router","push","showEditGroup","onAdd"],"sources":["src/views/GroupView.vue"],"sourcesContent":["<template>\n    <el-card class=\"lsit-card\">\n        <div slot=\"header\" class=\"clearfix\">\n            <span>Groups</span>\n            <el-button v-if=\"role !== 'Administrator'\" slot=\"reference\" style=\"float: right; padding: 3px\"\n                type=\"success\" @click=\"onAdd\" icon=\"el-icon-plus\" />\n        </div>\n        <!-- Group列表 -->\n        <GroupTable :loading=\"loading\" :options=\"options\" :pageData=\"groupPageData\" :onView=\"showViewGroup\"\n            :onFetchData=\"fetchGroupData\" />\n    </el-card>\n</template>\n\n<script>\nimport { getGroupList } from '@/api/GroupAPI';\nimport { getGroup } from '@/api/GroupAPI';\nimport { getAllUserId } from \"@/api/UserAPI\";\nimport { getAllProjectId } from \"@/api/ProjectAPI\";\nimport GroupTable from '@/components/table/GroupTable.vue';\nimport { errorHandler } from '@/utils/RequestUtils';\nexport default {\n    components: {\n        GroupTable\n    },\n    data() {\n        return {\n            open: false,\n            loading: false,\n            title: \"\",\n            role: sessionStorage.getItem('role'),\n            options: {\n                allUserId: [],\n                allProjectId: [],\n            },\n            groupForm: {},\n            groupSearchForm: {},\n            groupPageData: {\n                page: 0,\n                size: 0,\n                total: 0,\n                content: [],\n            },\n        };\n    },\n    created() {\n        this.fetchGroupData();\n        this.getAllOptions();\n    },\n    methods: {\n        fetchGroupData(page = 1, size = 10) {\n            getGroupList({ page, size, ...this.groupSearchForm })\n                .then(res => {\n                    this.groupPageData.page = res.page;\n                    this.groupPageData.size = res.size;\n                    this.groupPageData.total = res.total;\n                    this.groupPageData.content = res.content;\n                })\n                .catch(errorHandler);\n        },\n        resetGroupSearchForm() {\n            this.groupSearchForm = {}\n        },\n        showViewGroup(id) {\n            this.$router.push('/group/' + id)\n        },\n        showEditGroup(id) {\n            getGroup(id)\n                .then(res => {\n                    this.groupForm = { ...res };\n                    this.open = true;\n                    this.title = \"Edit Group\"\n                })\n                .catch(errorHandler);\n        },\n        getAllOptions() {\n            getAllUserId()\n                .then(res => {\n                    this.options.allUserId = res\n                })\n                .catch(errorHandler);\n            getAllProjectId()\n                .then(res => {\n                    this.options.allProjectId = res\n                })\n                .catch(errorHandler);\n        },\n        onAdd() {\n            this.$router.push('/group/0')\n        }\n    }\n};\n</script>"],"mappings":";AAcA,SAAAA,YAAA;AACA,SAAAC,QAAA;AACA,SAAAC,YAAA;AACA,SAAAC,eAAA;AACA,OAAAC,UAAA;AACA,SAAAC,YAAA;AACA;EACAC,UAAA;IACAF;EACA;EACAG,KAAA;IACA;MACAC,IAAA;MACAC,OAAA;MACAC,KAAA;MACAC,IAAA,EAAAC,cAAA,CAAAC,OAAA;MACAC,OAAA;QACAC,SAAA;QACAC,YAAA;MACA;MACAC,SAAA;MACAC,eAAA;MACAC,aAAA;QACAC,IAAA;QACAC,IAAA;QACAC,KAAA;QACAC,OAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,cAAA;IACA,KAAAC,aAAA;EACA;EACAC,OAAA;IACAF,eAAAL,IAAA,MAAAC,IAAA;MACArB,YAAA;QAAAoB,IAAA;QAAAC,IAAA;QAAA,QAAAH;MAAA,GACAU,IAAA,CAAAC,GAAA;QACA,KAAAV,aAAA,CAAAC,IAAA,GAAAS,GAAA,CAAAT,IAAA;QACA,KAAAD,aAAA,CAAAE,IAAA,GAAAQ,GAAA,CAAAR,IAAA;QACA,KAAAF,aAAA,CAAAG,KAAA,GAAAO,GAAA,CAAAP,KAAA;QACA,KAAAH,aAAA,CAAAI,OAAA,GAAAM,GAAA,CAAAN,OAAA;MACA,GACAO,KAAA,CAAAzB,YAAA;IACA;IACA0B,qBAAA;MACA,KAAAb,eAAA;IACA;IACAc,cAAAC,EAAA;MACA,KAAAC,OAAA,CAAAC,IAAA,aAAAF,EAAA;IACA;IACAG,cAAAH,EAAA;MACAhC,QAAA,CAAAgC,EAAA,EACAL,IAAA,CAAAC,GAAA;QACA,KAAAZ,SAAA;UAAA,GAAAY;QAAA;QACA,KAAArB,IAAA;QACA,KAAAE,KAAA;MACA,GACAoB,KAAA,CAAAzB,YAAA;IACA;IACAqB,cAAA;MACAxB,YAAA,GACA0B,IAAA,CAAAC,GAAA;QACA,KAAAf,OAAA,CAAAC,SAAA,GAAAc,GAAA;MACA,GACAC,KAAA,CAAAzB,YAAA;MACAF,eAAA,GACAyB,IAAA,CAAAC,GAAA;QACA,KAAAf,OAAA,CAAAE,YAAA,GAAAa,GAAA;MACA,GACAC,KAAA,CAAAzB,YAAA;IACA;IACAgC,MAAA;MACA,KAAAH,OAAA,CAAAC,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}