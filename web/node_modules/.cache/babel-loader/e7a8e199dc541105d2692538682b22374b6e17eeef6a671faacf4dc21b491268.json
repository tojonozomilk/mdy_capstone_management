{"ast":null,"code":"import UserChat from '@/components/message/UserChat.vue';\nexport default {\n  name: 'ApprovalTable',\n  components: {\n    UserChat\n  },\n  props: {\n    loading: Boolean,\n    options: Object,\n    pageData: Object,\n    onApprove: Function,\n    onReject: Function,\n    onEdit: Function,\n    onDelete: Function,\n    onFetchData: Function\n  },\n  data() {\n    return {\n      approvalPageData: this.pageData,\n      userId: sessionStorage.getItem('userId')\n    };\n  },\n  methods: {\n    onFetchApprovalData() {\n      const page = this.approvalPageData.page;\n      const size = this.approvalPageData.size;\n      this.onFetchData(page, size);\n    }\n  }\n};","map":{"version":3,"names":["UserChat","name","components","props","loading","Boolean","options","Object","pageData","onApprove","Function","onReject","onEdit","onDelete","onFetchData","data","approvalPageData","userId","sessionStorage","getItem","methods","onFetchApprovalData","page","size"],"sources":["src/components/table/ApprovalTable.vue"],"sourcesContent":["<template>\n    <div>\n        <!-- Approval列表 -->\n        <el-table :data=\"approvalPageData.content\" :row-key=\"row => row.id\" :loading=\"loading\" :height=\"'70vh'\">\n            <el-table-column label=\"Type\" prop=\"type\" />\n            <el-table-column label=\"Status\" prop=\"status\" />\n            <el-table-column label=\"Remark\" prop=\"remark\" />\n            <el-table-column label=\"Creator\">\n                <template slot-scope=\"scope\">\n                    <UserChat :userId=\"scope.row.creatorId\"\n                        :username=\"options.allUserId.find((option) => option.value === scope.row.creatorId)?.label\" />\n                </template>\n            </el-table-column>\n            <el-table-column label=\"Creation Date\" prop=\"createDate\" />\n            <el-table-column label=\"Amend Date\" prop=\"amendDate\" />\n            <el-table-column label=\"Action\">\n                <template slot-scope=\"scope\">\n                    <div v-if=\"scope.row.status === 'Init' && scope.row.creatorId != userId\">\n                        <el-button v-if=\"onApprove\" type=\"success\" size=\"small\" @click=\"onApprove(scope.row.id)\"\n                            icon=\"el-icon-check\" />\n                        <el-button v-if=\"onReject\" type=\"danger\" size=\"small\" @click=\"onReject(scope.row.id)\"\n                            icon=\"el-icon-close\" />\n                    </div>\n                    <el-button v-if=\"onEdit\" type=\"primary\" size=\"small\" @click=\"onEdit(scope.row.id)\">Edit</el-button>\n                    <el-button v-if=\"onDelete\" type=\"danger\" size=\"small\"\n                        @click=\"onDelete(scope.row.id)\">Delete</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <!-- Approval列表分页器 -->\n        <el-pagination style=\"margin-top: 16px; text-align: right;\" layout=\"sizes, prev, pager, next, jumper\"\n            :page-sizes=\"[10, 20, 30]\" :current-page.sync=\"approvalPageData.page\"\n            :page-size.sync=\"approvalPageData.size\" :total=\"approvalPageData.total\" @size-change=\"onFetchApprovalData\"\n            @current-change=\"onFetchApprovalData\" @prev-click=\"onFetchApprovalData\" @next-click=\"onFetchApprovalData\" />\n    </div>\n</template>\n\n<script>\nimport UserChat from '@/components/message/UserChat.vue'\nexport default {\n    name: 'ApprovalTable',\n    components: { UserChat },\n    props: {\n        loading: Boolean,\n        options: Object,\n        pageData: Object,\n        onApprove: Function,\n        onReject: Function,\n        onEdit: Function,\n        onDelete: Function,\n        onFetchData: Function,\n    },\n    data() {\n        return {\n            approvalPageData: this.pageData,\n            userId: sessionStorage.getItem('userId'),\n        };\n    },\n    methods: {\n        onFetchApprovalData() {\n            const page = this.approvalPageData.page\n            const size = this.approvalPageData.size\n            this.onFetchData(page, size)\n        }\n    }\n};\n</script>"],"mappings":"AAuCA,OAAAA,QAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACAC,OAAA,EAAAC,OAAA;IACAC,OAAA,EAAAC,MAAA;IACAC,QAAA,EAAAD,MAAA;IACAE,SAAA,EAAAC,QAAA;IACAC,QAAA,EAAAD,QAAA;IACAE,MAAA,EAAAF,QAAA;IACAG,QAAA,EAAAH,QAAA;IACAI,WAAA,EAAAJ;EACA;EACAK,KAAA;IACA;MACAC,gBAAA,OAAAR,QAAA;MACAS,MAAA,EAAAC,cAAA,CAAAC,OAAA;IACA;EACA;EACAC,OAAA;IACAC,oBAAA;MACA,MAAAC,IAAA,QAAAN,gBAAA,CAAAM,IAAA;MACA,MAAAC,IAAA,QAAAP,gBAAA,CAAAO,IAAA;MACA,KAAAT,WAAA,CAAAQ,IAAA,EAAAC,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}