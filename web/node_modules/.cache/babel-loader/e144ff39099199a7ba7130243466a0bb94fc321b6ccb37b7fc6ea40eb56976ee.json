{"ast":null,"code":"import { getGroupList } from '@/api/GroupAPI';\nimport { getGroup } from '@/api/GroupAPI';\nimport { saveGroup } from '@/api/GroupAPI';\nimport { deleteGroup } from '@/api/GroupAPI';\nimport { getAllUserId } from \"@/api/UserAPI\";\nimport { getAllProjectId } from \"@/api/ProjectAPI\";\nimport GroupEdit from '@/components/edit/GroupEdit.vue';\nimport GroupSearch from '@/components/search/GroupSearch.vue';\nimport GroupTable from '@/components/table/GroupTable.vue';\nimport { errorHandler } from '@/utils/RequestUtils';\nexport default {\n  components: {\n    GroupEdit,\n    GroupSearch,\n    GroupTable\n  },\n  data() {\n    return {\n      open: false,\n      loading: false,\n      title: \"\",\n      options: {\n        allUserId: [],\n        allProjectId: []\n      },\n      groupForm: {},\n      groupSearchForm: {},\n      groupPageData: {\n        page: 0,\n        size: 0,\n        total: 0,\n        content: []\n      }\n    };\n  },\n  created() {\n    this.fetchGroupData();\n    this.getAllOptions();\n  },\n  methods: {\n    fetchGroupData(page = 1, size = 10) {\n      getGroupList({\n        page,\n        size,\n        ...this.groupSearchForm\n      }).then(res => {\n        this.groupPageData.page = res.page;\n        this.groupPageData.size = res.size;\n        this.groupPageData.total = res.total;\n        this.groupPageData.content = res.content;\n      }).catch(errorHandler);\n    },\n    resetGroupSearchForm() {\n      this.groupSearchForm = {};\n    },\n    showAddGroup() {\n      this.groupForm = {};\n      this.open = true;\n      this.title = \"Add Group\";\n    },\n    showEditGroup(id) {\n      getGroup(id).then(res => {\n        this.groupForm = {\n          ...res\n        };\n        this.open = true;\n        this.title = \"Edit Group\";\n      }).catch(errorHandler);\n    },\n    handleSaveGroup() {\n      saveGroup(this.groupForm).then(() => {\n        this.open = false;\n        this.$message.success(\"Group saved successfully\");\n        this.fetchGroupData();\n      }).catch(errorHandler);\n    },\n    handleDeleteGroup(id) {\n      deleteGroup(id).then(() => {\n        this.$message.success(\"Group deleted successfully\");\n        this.fetchGroupData();\n      }).catch(errorHandler);\n    },\n    getAllOptions() {\n      getAllUserId().then(res => {\n        this.options.allUserId = res;\n      }).catch(errorHandler);\n      getAllProjectId().then(res => {\n        this.options.allProjectId = res;\n      }).catch(errorHandler);\n    }\n  }\n};","map":{"version":3,"names":["getGroupList","getGroup","saveGroup","deleteGroup","getAllUserId","getAllProjectId","GroupEdit","GroupSearch","GroupTable","errorHandler","components","data","open","loading","title","options","allUserId","allProjectId","groupForm","groupSearchForm","groupPageData","page","size","total","content","created","fetchGroupData","getAllOptions","methods","then","res","catch","resetGroupSearchForm","showAddGroup","showEditGroup","id","handleSaveGroup","$message","success","handleDeleteGroup"],"sources":["src/views/admin/GroupView.vue"],"sourcesContent":["<template>\n    <div>\n        <!-- Group搜索栏 -->\n        <GroupSearch :form=\"groupSearchForm\" :options=\"options\" :onSearch=\"fetchGroupData\"\n\t\t:onReset=\"resetGroupSearchForm\" :onAdd=\"showAddGroup\" />\n\n        <!-- Group列表 -->\n        <GroupTable :loading=\"loading\" :options=\"options\" :pageData=\"groupPageData\" :onEdit=\"showEditGroup\"\n            :onFetchData=\"fetchGroupData\" :onDelete=\"handleDeleteGroup\" />\n\n        <!-- 新增/编辑Group的弹出框 -->\n        <el-dialog :title=\"title\" width=\"30%\" :visible.sync=\"open\">\n            <GroupEdit :form=\"groupForm\" :options=\"options\" :onSubmit=\"handleSaveGroup\" />\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport { getGroupList } from '@/api/GroupAPI';\nimport { getGroup } from '@/api/GroupAPI';\nimport { saveGroup } from '@/api/GroupAPI';\nimport { deleteGroup } from '@/api/GroupAPI';\nimport { getAllUserId } from \"@/api/UserAPI\";\nimport { getAllProjectId } from \"@/api/ProjectAPI\";\nimport GroupEdit from '@/components/edit/GroupEdit.vue';\nimport GroupSearch from '@/components/search/GroupSearch.vue';\nimport GroupTable from '@/components/table/GroupTable.vue';\nimport { errorHandler } from '@/utils/RequestUtils';\nexport default {\n    components: {\n        GroupEdit,\n        GroupSearch,\n        GroupTable\n    },\n    data() {\n        return {\n            open: false,\n            loading: false,\n            title: \"\",\n            options: {\n                allUserId: [],\n                allProjectId: [],\n            },\n            groupForm: {},\n            groupSearchForm: {},\n            groupPageData: {\n                page: 0,\n                size: 0,\n                total: 0,\n                content: [],\n            },\n        };\n    },\n    created() {\n        this.fetchGroupData();\n        this.getAllOptions();\n    },\n    methods: {\n        fetchGroupData(page = 1, size = 10) {\n            getGroupList({ page, size, ...this.groupSearchForm })\n                .then(res => {\n                    this.groupPageData.page = res.page;\n                    this.groupPageData.size = res.size;\n                    this.groupPageData.total = res.total;\n                    this.groupPageData.content = res.content;\n                })\n                .catch(errorHandler);\n        },\n        resetGroupSearchForm() {\n            this.groupSearchForm = {}\n        },\n        showAddGroup() {\n            this.groupForm = {};\n            this.open = true;\n            this.title = \"Add Group\"\n        },\n        showEditGroup(id) {\n            getGroup(id)\n                .then(res => {\n                    this.groupForm = { ...res };\n                    this.open = true;\n                    this.title = \"Edit Group\"\n                })\n                .catch(errorHandler);\n        },\n        handleSaveGroup() {\n            saveGroup(this.groupForm)\n                .then(() => {\n                    this.open = false;\n                    this.$message.success(\"Group saved successfully\")\n                    this.fetchGroupData();\n                })\n                .catch(errorHandler);\n        },\n        handleDeleteGroup(id) {\n            deleteGroup(id)\n                .then(() => {\n                    this.$message.success(\"Group deleted successfully\")\n                    this.fetchGroupData();\n                })\n                .catch(errorHandler);\n        },\n        getAllOptions() {\n            getAllUserId()\n                .then(res => {\n                    this.options.allUserId = res\n                })\n                .catch(errorHandler);\n            getAllProjectId()\n                .then(res => {\n                    this.options.allProjectId = res\n                })\n                .catch(errorHandler);\n        }\n    }\n};\n</script>"],"mappings":"AAkBA,SAAAA,YAAA;AACA,SAAAC,QAAA;AACA,SAAAC,SAAA;AACA,SAAAC,WAAA;AACA,SAAAC,YAAA;AACA,SAAAC,eAAA;AACA,OAAAC,SAAA;AACA,OAAAC,WAAA;AACA,OAAAC,UAAA;AACA,SAAAC,YAAA;AACA;EACAC,UAAA;IACAJ,SAAA;IACAC,WAAA;IACAC;EACA;EACAG,KAAA;IACA;MACAC,IAAA;MACAC,OAAA;MACAC,KAAA;MACAC,OAAA;QACAC,SAAA;QACAC,YAAA;MACA;MACAC,SAAA;MACAC,eAAA;MACAC,aAAA;QACAC,IAAA;QACAC,IAAA;QACAC,KAAA;QACAC,OAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,cAAA;IACA,KAAAC,aAAA;EACA;EACAC,OAAA;IACAF,eAAAL,IAAA,MAAAC,IAAA;MACAtB,YAAA;QAAAqB,IAAA;QAAAC,IAAA;QAAA,QAAAH;MAAA,GACAU,IAAA,CAAAC,GAAA;QACA,KAAAV,aAAA,CAAAC,IAAA,GAAAS,GAAA,CAAAT,IAAA;QACA,KAAAD,aAAA,CAAAE,IAAA,GAAAQ,GAAA,CAAAR,IAAA;QACA,KAAAF,aAAA,CAAAG,KAAA,GAAAO,GAAA,CAAAP,KAAA;QACA,KAAAH,aAAA,CAAAI,OAAA,GAAAM,GAAA,CAAAN,OAAA;MACA,GACAO,KAAA,CAAAtB,YAAA;IACA;IACAuB,qBAAA;MACA,KAAAb,eAAA;IACA;IACAc,aAAA;MACA,KAAAf,SAAA;MACA,KAAAN,IAAA;MACA,KAAAE,KAAA;IACA;IACAoB,cAAAC,EAAA;MACAlC,QAAA,CAAAkC,EAAA,EACAN,IAAA,CAAAC,GAAA;QACA,KAAAZ,SAAA;UAAA,GAAAY;QAAA;QACA,KAAAlB,IAAA;QACA,KAAAE,KAAA;MACA,GACAiB,KAAA,CAAAtB,YAAA;IACA;IACA2B,gBAAA;MACAlC,SAAA,MAAAgB,SAAA,EACAW,IAAA;QACA,KAAAjB,IAAA;QACA,KAAAyB,QAAA,CAAAC,OAAA;QACA,KAAAZ,cAAA;MACA,GACAK,KAAA,CAAAtB,YAAA;IACA;IACA8B,kBAAAJ,EAAA;MACAhC,WAAA,CAAAgC,EAAA,EACAN,IAAA;QACA,KAAAQ,QAAA,CAAAC,OAAA;QACA,KAAAZ,cAAA;MACA,GACAK,KAAA,CAAAtB,YAAA;IACA;IACAkB,cAAA;MACAvB,YAAA,GACAyB,IAAA,CAAAC,GAAA;QACA,KAAAf,OAAA,CAAAC,SAAA,GAAAc,GAAA;MACA,GACAC,KAAA,CAAAtB,YAAA;MACAJ,eAAA,GACAwB,IAAA,CAAAC,GAAA;QACA,KAAAf,OAAA,CAAAE,YAAA,GAAAa,GAAA;MACA,GACAC,KAAA,CAAAtB,YAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}